<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesi√≥n - Impulso 360</title>
    <link rel="Icon" href="imagenes/logo de nav.png" type="imagen/x-icono" sizes="192x192">
    <link rel="stylesheet" href="styles.css">
    <style>
        .info-container { max-width: 420px; margin: 2rem auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px rgba(0,0,0,0.08); padding: 2rem; }
        .info-main { min-height: 70vh; display: flex; align-items: center; justify-content: center; }
        .btn:active { background: #0056b3 !important; }
    </style>
</head>
<body class="info-body">
    <header class="header">
        <a href="index.html" class="logo">
            <img src="imagenes/logo.png" alt="Impulso 360 Logo">
        </a>
        <nav class="nav">
            <a href="categorias.html">Categor√≠as</a>
            <a href="carrito.html">üõí Carrito</a>
        </nav>
    </header>
    <main class="info-main">
        <div class="info-container active">
            <h1>Iniciar Sesi√≥n</h1>
            <form id="formLogin" autocomplete="off" style="display: flex; flex-direction: column; gap: 1.2rem;">
                <div>
                    <label for="usuario">Usuario</label><br>
                    <input type="text" id="usuario" name="usuario" required placeholder="Ej: juanperez" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <div>
                    <label for="contrasena">Contrase√±a</label><br>
                    <input type="password" id="contrasena" name="contrasena" required minlength="6" placeholder="Tu contrase√±a" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <button type="submit" class="btn" style="background: #007bff; color: #fff; border: none; border-radius: 6px; padding: 0.9rem 0; font-size: 1.1rem; cursor: pointer; transition: background 0.3s;">Iniciar sesi√≥n</button>
                <div style="text-align: center; margin-top: 0.6rem; font-size: 0.95rem;">
                    ¬øNo tienes cuenta? <a href="registro.html" style="color: #007bff; text-decoration: none; font-weight: 600;">Reg√≠strate</a>
                </div>
            </form>
        </div>
    </main>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <a href="index.html" class="footer-logo">
                    <img src="imagenes/logo.png" alt="Impulso 360 Logo">
                </a>
                <p>Tu tienda de tecnolog√≠a favorita. Ofrecemos los mejores productos con la m√°s alta calidad y servicio excepcional.</p>
                <div class="social-links">
                    <a href="#" title="Facebook">üìò</a>
                    <a href="#" title="Twitter">üê¶</a>
                    <a href="#" title="Instagram">üì∑</a>
                    <a href="#" title="LinkedIn">üíº</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Navegaci√≥n</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="productos.html">Productos</a></li>
                    <li><a href="categorias.html">Categor√≠as</a></li>
                    <li><a href="carrito.html">Carrito</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <div class="contact-info">
                    <p><strong>Tel√©fono:</strong> +57 (604) 123-4567</p>
                    <p><strong>Email:</strong> info@tecnoventas.com</p>
                    <p><strong>Direcci√≥n:</strong>  Calle 24, Centro de Medellin</p>
                    <p><strong>Horario:</strong> Lun-Sab 9:00-18:00</p>
                </div>
            </div>
            <div class="footer-section">
                <h3>Informaci√≥n</h3>
                <ul class="footer-links">
                    <li><a href="infonosotros.html">Sobre Nosotros</a></li>
                    <li><a href="infopoliticas.html">Pol√≠tica de Privacidad</a></li>
                    <li><a href="infoTerminos.html">T√©rminos y Condiciones</a></li>
                    <li><a href="infoLogistica.html">Env√≠os y Devoluciones</a></li>
                    <li><a href="infoSoporte.html">Soporte T√©cnico</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Impulso 360. Todos los derechos reservados. | Dise√±ado con ‚ù§Ô∏è para los amantes de la tecnolog√≠a</p>
        </div>
    </footer>
    <script src="js/password-toggle.js"></script>
    <script src="js/utils/toast.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/socials.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        if (window.PasswordToggle) PasswordToggle.init();
        const form = document.getElementById('formLogin');
        if (!form) return;
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const usuario = form.usuario.value.trim();
            const contrasena = form.contrasena.value.trim();
            if (!usuario || !contrasena) {
                Toast.show('Usuario y contrase√±a son obligatorios');
                return;
            }
            const res = Auth.loginUser({ usuario, contrasena });
            if (!res.ok) {
                Toast.show(res.error || 'Usuario o contrase√±a incorrectos');
                return;
            }
            Toast.show('Inicio de sesi√≥n exitoso');
           
            if (window.updateNavbar) {
                window.updateNavbar();
            } else if (window.dispatchEvent) {
                window.dispatchEvent(new StorageEvent('storage', { key: 'tienda.session' }));
            }
           
            const users = JSON.parse(localStorage.getItem('tienda.usuarios') || '[]');
            const me = users.find(u => u.usuario === usuario);
            const destino = (me && me.role === 'admin') ? 'admin.html' : 'index.html';
            setTimeout(() => { window.location.href = destino; }, 800);
        });
    });
    </script>
    <script>

    document.addEventListener('DOMContentLoaded', function(){ if(window.Socials) Socials.render(); });
    </script>
</body>
</html>