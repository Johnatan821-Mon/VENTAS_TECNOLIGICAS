<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Usuario - TecnoVentas</title>
    <link rel="Icon" href="logo.svg" type="imagen/x-icono" sizes="192x192">
    <link rel="stylesheet" href="styles.css">
    <style>
        .info-container {
            max-width: 420px;
            margin: 2rem auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 16px rgba(0,0,0,0.08);
            padding: 2rem;
        }
        .info-main {
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn:active {
            background: #0056b3 !important;
        }
    </style>
</head>
<body class="info-body">
    <header class="header">
        <a href="index.html" class="logo">
            <img src="logo.svg" alt="TecnoVentas Logo">
            <span>TecnoVentas</span>
        </a>
        <nav class="nav">
            <a href="productos.html">Productos</a>
            <a href="categorias.html">Categor√≠as</a>
            <a href="carrito.html">üõí Carrito</a>
        </nav>
    </header>
    <main class="info-main">
        <div class="info-container active">
            <h1>Registro de Usuario</h1>
            <form id="formRegistro" autocomplete="off" style="display: flex; flex-direction: column; gap: 1.2rem;">
                <div>
                    <label for="usuario">Usuario</label><br>
                    <input type="text" id="usuario" name="usuario" required placeholder="Ej: juanperez" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <div>
                    <label for="contrasena">Contrase√±a</label><br>
                    <input type="password" id="contrasena" name="contrasena" required minlength="6" placeholder="M√≠nimo 6 caracteres" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <div>
                    <label for="codigo">C√≥digo de invitaci√≥n</label><br>
                    <input type="text" id="codigo" name="codigo" required placeholder="C√≥digo de invitaci√≥n" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <div>
                    <label for="celular">Celular</label><br>
                    <input type="tel" id="celular" name="celular" required placeholder="Ej: 3001234567" style="width: 100%; padding: 0.7rem; border-radius: 6px; border: 1px solid #ccc;">
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="acepto" name="acepto" required>
                    <label for="acepto" style="font-size: 0.95rem;">Acepto los <a href="infoTerminos.html" target="_blank">T√©rminos y Condiciones</a></label>
                </div>
                <button type="submit" class="btn" style="background: #007bff; color: #fff; border: none; border-radius: 6px; padding: 0.9rem 0; font-size: 1.1rem; cursor: pointer; transition: background 0.3s;">Registrarme</button>
            </form>
        </div>
    </main>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <a href="index.html" class="footer-logo">
                    <img src="logo.svg" alt="TecnoVentas Logo">
                    TecnoVentas
                </a>
                <p>Tu tienda de tecnolog√≠a favorita. Ofrecemos los mejores productos con la m√°s alta calidad y servicio excepcional.</p>
                <div class="social-links">
                    <a href="#" title="Facebook">üìò</a>
                    <a href="#" title="Twitter">üê¶</a>
                    <a href="#" title="Instagram">üì∑</a>
                    <a href="#" title="LinkedIn">üíº</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Navegaci√≥n</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="productos.html">Productos</a></li>
                    <li><a href="categorias.html">Categor√≠as</a></li>
                    <li><a href="carrito.html">Carrito</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <div class="contact-info">
                    <p><strong>Tel√©fono:</strong> +57 (604) 123-4567</p>
                    <p><strong>Email:</strong> info@tecnoventas.com</p>
                    <p><strong>Direcci√≥n:</strong>  Calle 24, Centro de Medellin</p>
                    <p><strong>Horario:</strong> Lun-Sab 9:00-18:00</p>
                </div>
            </div>
            <div class="footer-section">
                <h3>Informaci√≥n</h3>
                <ul class="footer-links">
                    <li><a href="infonosotros.html">Sobre Nosotros</a></li>
                    <li><a href="infopoliticas.html">Pol√≠tica de Privacidad</a></li>
                    <li><a href="infoTerminos.html">T√©rminos y Condiciones</a></li>
                    <li><a href="infoLogistica.html">Env√≠os y Devoluciones</a></li>
                    <li><a href="infoSoporte.html">Soporte T√©cnico</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 TecnoVentas. Todos los derechos reservados. | Dise√±ado con ‚ù§Ô∏è para los amantes de la tecnolog√≠a</p>
        </div>
    </footer>
    <script src="toast.js"></script>
    <script src="auth.js"></script>
    <script>
    // Script para registro de usuario usando Auth y Toast
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('formRegistro');
        if (!form) return;
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const usuario = form.usuario.value.trim();
            const contrasena = form.contrasena.value.trim();
            const codigo = form.codigo.value.trim();
            const celular = form.celular.value.trim();
            if (!usuario || !contrasena || !codigo || !celular) {
                Toast.show('Todos los campos son obligatorios', 'error');
                return;
            }
            const res = Auth.registerUser({ usuario, contrasena, codigo, celular });
            if (!res.ok) {
                Toast.show(res.error || 'Error al registrar', 'error');
                return;
            }
            Auth.setSessionUser(usuario);
            Toast.show('Usuario registrado correctamente', 'success');
            if (window.updateNavbar) {
                window.updateNavbar();
            } else if (window.dispatchEvent) {
                window.dispatchEvent(new StorageEvent('storage', { key: 'tienda.session' }));
            }
            form.reset();
        });
    });
    </script>
</body>
</html>
